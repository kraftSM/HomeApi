# HomeApi -Д/З по Unit 34 С# Developer
- Дано структурированное приложение, в котором, как предполагается, УЖЕ решены вопросы архитектуры приложения и структур данных.
- Задачей является дописатьэто решение в соответсвии с пунктами домашнего задания. Поэтому выбран такой путь:
- - мининимизация изменений в существующем коде
- - новый код должен быть макмально аналогичен уже написанному
- Для ВСЕХ элементов должно быть (в первом приближении) должно быть сделано:
- - Сервис просмотра всех элементов данного типа (списком, без передачи GUID каждого элемента)
- - Сервис добавления элементов. При добавлении элемента,его GUID генерится сервером
- - Сервисы удаления и редактирования (обновления) элементов
- - удаление и обновление ВСЕХ элементов порисходит по их GUID. То каким образом из клиенткое приложение получает этот GUID - вне контекста этого задания (может например вычленять из полного списка, если реализвать его передачу клиенту)
- Соответсвенно в решение (не)добавляется
- - (+) Отображение элементов для Room
- - (+) Удаление элементов для Room Device
- - (+) Обновление элементов для Room (для Device уже сделано в предлагаемом решении)
- - (-) Передачей GUID каждого элемента в списке всех эелементов не реализовывалось. Для целей тестирвания/отладки GUID брался из SQL-таблиц напрямую и передавался в http-ссылке
- Соответсвенно в решение добавляется
- -  на уровне HomeApi.Data
    - Расширение в interface'ов:IDeviceRepository,IRoomRepository
    - Реализация в interface'ов в классах-репозитриях:DeviceRepository,RoomRepository
    - Реализация дополнительного  класса(ов) данных для обновления:UpdateDeviceQuery,UpdateRoomQuery     
    - -   Корректировка в interface IRoomRepository
    Task<Room[]> GetRooms();
    Task<Room> GetRoomById(Guid id);
- -  на уровне  HomeApi.Contracts
    -  Реализация (для комнат) отображения Списка элементов: class GetRoomsResponse, из элеементов типа: class RoomView
    -  Реализация (для комнат) обновления:   class EditRoomRequest
    -  Реализация (пользовательской валидации вводимых данных):добавялен class EditRoomRequestValidator -  не работает пока для BOOL = FALSE 
- -  на уровне  HomeApi - [целевое приложение]
- - -  модификация  class DevicesController :
    -    добавление поддержки запроса на удаление async Task<IActionResult> Delete(  [FromRoute] Guid id)
- - -  модификация  class RoomsController :
    -  добавление поддержки запроса на получение списка  async Task<IActionResult> GetRooms()
    -  добавление поддержки запроса на обление async Task<IActionResult> Edit([FromRoute] Guid id,[FromBody] EditRoomRequest request)
    -  (-) добавление поддержки запроса на удаление комнат async Task<IActionResult> Delete(  [FromRoute] Guid id) не реализовывалось, чтобы не связываться на этом этапе с касдадным удалением ключей. т.к. в задании нет, а как сделать в общем то понятно, но должно быть некое решение на уровне архитектуры приложения, котогрого НЕТ ЯВНО
 
